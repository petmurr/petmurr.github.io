<!DOCTYPE html>
<html>

<head>
    <title>Peter Murray</title>
    <link rel="stylesheet" href="style.css">
</head>

<body>


    <nav class="navbar">
        <div onclick="location.href='index.html'" id="nav_logo" class="nav_s">
            <h2>Peter Murray</h2> 
            <p>I respond to everyone:</p>
            <a>peter@petermurray.net</a>
        </div>

        <div onclick="setInnerText(1)" id="nav_miren" class="nav_s">
            <p>> Miren, a musical air-raid siren</p>
        </div>

        <div onclick="setInnerText(2)" id="nav_manim" class="nav_s">
            <p>> Explainatory Motion planning (M)animations</p>
        </div>

        <div onclick="setInnerText(3)" id="nav_music" class="nav_s">
            <p>> My music</p>
        </div>

        <div onclick="setInnerText(4)" id="nav_kinoplan" class="nav_s">
            <p>> RRT Kinodynamic Planning</p>
        </div>

        <div onclick="setInnerText(5)" id="nav_fsae" class="nav_s">
            <p>> Formula Electric 2023</p>
        </div>

        <div onclick="setInnerText(6)" id="nav_hprc" class="nav_s">
            <p>> High Powered Rocketry Club</p>
        </div>

    </nav>

    <main id="main" />



    <script defer>
        const mainTag = document.getElementById("main")
        let currentPage = 0

        function switchLeft() {
            if (currentPage - 1 < 0) {
                currentPage = json.length - 1
            } else {
                currentPage--
            }
            // REMOVE 
            setInnerText(currentPage)
        }

        function switchRight() {
            if (currentPage + 1 > json.length - 1) {
                currentPage = 0
            } else {
                currentPage++
            }
            setInnerText(currentPage)
        }

        const json = [
            {
                name: "home",
                articleTitle: `
                Explore my <a href="photos.html">photos</a> & <a href="projects.html">projects</a>, download my <a href="Peter_Murray_Resume_2023.pdf">resume</a>, or just play a game of <a href="minesweeper.html">minesweeper</a>.
                `,

                articleDesc: `
                Welcome! This website was written by myself, with help from my friend <a href="https://gabecamacho.com/">Gabe Camacho</a> to get the javascript working. Take a look around!
                
                <p class="mini">
                    Initially inspired by <a href="https://www.youtube.com/watch?v=nG2IyH43xMU">hyperplexd's</a> video on <a href="https://www.dylanbrouwer.design/">Dylan Brouwer's</a> design work.
                </p> 
                
                <p class="mini">
                    Looking for <a href="tempchart.html">tempchart</a>?
                </p>`,
                imgSrc: "peter.jpg",
                vidSrc: ""

            },
            {
                name: "Miren",
                articleTitle: `<a href="">Miren</a>, an attentive musical siren`,
                articleDesc: `
                <p>
                    Miren (musical siren), is my attempt at creating a volume and pitch-controllable air-raid siren. It uses the characteristic rotor and stator found in early 20th century sirens, and boasts the volume to match. The entire mechanical construction consists of a frame, rotor, stator, brushless motor and valve to regulate the volume of air entering the siren.
                </p>
                <p>
                    Though the integration is incomplete, Miren is capable of 'listening' to its environment, be a passing car or a human's whistle, and identify the notes that it hears, and generate a 'continuation' of what it hears with a modified 2nd order Markov chain having been trained on a collection of 10,000 monophonic midi files.
                </p>`,
                imgSrc: "./miren/miren_wireframe.png",
                // vidSrc: "<img src='fsae.gif'>"
                vidSrc: ""
            },
            {
                name: "Motion Planning Manimations",
                articleTitle: `<a href="">Motion Planning Manimations</a> explaining RRT and RRT*`,
                articleDesc: ``,
                imgSrc: "",
                vidSrc: ""
            },
            {
                name: "Music",
                articleTitle: `My music`,
                articleDesc: ``,
                imgSrc: "",
                vidSrc: ""
            },
            {
                name: "Kinodynamic_Planner",
                articleTitle: `Kinodynamic Planning`,
                articleDesc: ``,
                imgSrc: "",
                vidSrc: ""
            },
            {
                name: "FSAE",
                articleTitle: `Formua Electric 2023`,
                articleDesc: ``,
                imgSrc: "",
                vidSrc: "<video muted autoplay src='fsae.webm' type='video/webm'></video>"
            },
            {
                name: "HPRC",
                articleTitle: `High Powered Rocketry Club`,
                articleDesc: ``,
                imgSrc: "",
                vidSrc: ""
            },
        ]

        function setInnerText(pageNumber) {
            mainTag.innerHTML = `
        <article>
            <div class="article_image asec">
                <div class="image" style="background-image: url(${json[pageNumber].imgSrc});">${json[currentPage].vidSrc}</div>
            </div>
            <div class="article_desc asec">
                <div class="bottom_text" id="bottom_text">
                    <p>${json[pageNumber].articleDesc}</p>
                </div>
            </div>
            <div class="article_title asec">
                <div class="title_text" id="title_text">
                    <h1>${json[pageNumber].articleTitle}</h1>
                </div>
            </div>
            <div class="article_nav asec">
                <div onclick="switchLeft()" class="left" id="leftright">
                    <h1><</h1>
                </div>
                <div onclick="switchRight()" class="right" id="leftright">
                    <h1>></h1>
                </div>
            </div>
            `
            
            // Change the color to indicate which page you're on
            switch (pageNumber) {
                case 1:
                    changeColor("nav_miren");
                    break;
                case 2:
                    changeColor("nav_manim");
                    break;
                case 3:
                    changeColor("nav_music");
                    break;
                case 4:
                    changeColor("nav_kinoplan");
                    break;
                case 5:
                    changeColor("nav_fsae");
                    break;
                case 6:
                    changeColor("nav_hprc");
                    break;
                default:
                    changeColor("lolol");
            }

        }

        function changeColor(targetId) {
            var ids = ["nav_miren", "nav_manim", "nav_music", "nav_kinoplan", "nav_fsae", "nav_hprc"];

            ids.forEach(function(id) {
                var div = document.getElementById(id);
                if (id === targetId) {
                    div.style.backgroundColor = "#243139";
                } else {
                    div.style.backgroundColor = '';
                }
            });
        }


        setInnerText(0)


    </script>

</body>

</html>