<!DOCTYPE html>
<html>

<head>
    <title>Peter Murray</title>
    <link rel="stylesheet" href="style.css">
</head>

<body>


    <nav class="navbar">
        <div onclick="location.href='index.html'" id="nav_logo" class="nav_s">
            <h2>Peter Murray</h2> 
            <a>peter@petermurray.net</a>
        </div>

        <div onclick="setInnerText(1)" id="nav_miren" class="nav_s">
            <p>> Miren, a musical air-raid siren</p>
        </div>

        <div onclick="setInnerText(2)" id="nav_manim" class="nav_s">
            <p>> Explainatory Motion planning (M)animations</p>
        </div>

        <div onclick="setInnerText(3)" id="nav_music" class="nav_s">
            <p>> Photos</p>
        </div>

        <div onclick="setInnerText(4)" id="nav_kinoplan" class="nav_s">
            <p>> Kinodynamic Planning</p>
        </div>

        <div onclick="setInnerText(5)" id="nav_fsae" class="nav_s">
            <p>> Formula Electric 2023</p>
        </div>

        <div onclick="setInnerText(6)" id="nav_hprc" class="nav_s">
            <p>> High Powered Rocketry Club</p>
        </div>

    </nav>

    <main id="main" />



    <script defer>
        const mainTag = document.getElementById("main")
        let currentPage = 0

        function switchLeft() {
            if (currentPage - 1 < 0) {
                currentPage = json.length - 1
            } else {
                currentPage--
            }
            // REMOVE 
            setInnerText(currentPage)
        }

        function switchRight() {
            if (currentPage + 1 > json.length - 1) {
                currentPage = 0
            } else {
                currentPage++
            }
            setInnerText(currentPage)
        }

        const json = [
            {
                name: "home",
                articleTitle: `
                Explore my <a onclick="setInnerText(3)")>photos</a> & <a onclick="setInnerText(1)">projects</a>, take a look at my <a href="Peter_Murray_Resume_2024.pdf">resume</a>, or just play a game of <a href="minesweeper.html">minesweeper</a>.
                `,

                articleDesc: `
                Welcome! This website was written by myself, with help from my friend <a href="https://gabecamacho.com/">Gabe Camacho</a> to get the javascript working. Take a look around!
                
                <p class="mini">
                    Initially inspired by <a href="https://www.youtube.com/watch?v=nG2IyH43xMU">hyperplexd's</a> video on <a href="https://www.dylanbrouwer.design/">Dylan Brouwer's</a> design work.
                </p> 
                
                <p class="mini">
                    Looking for <a href="tempchart.html">tempchart</a>?
                </p>`,
                imgSrc: `
                <div class="image" style="background-image: url(peter.jpg);"></div>
                `,
                vidSrc: ""

            },
            {
                name: "Miren",
                articleTitle: `<a href="Miren_Musical_Robot_Final_Paper.pdf">Miren</a>, an attentive musical siren`,
                articleDesc: `
                <p><a href="Miren_Musical_Robot_Final_Paper.pdf">Read the report here.</a></p>
                <p>
                    Miren (musical siren), is my attempt at creating a volume and pitch-controllable air-raid siren. It uses the characteristic rotor and stator found in early 20th century sirens, and boasts the volume to match. The entire mechanical construction consists of a frame, rotor, stator, brushless motor and valve to regulate the volume of air entering the siren.
                </p>
                <p>
                    Though the integration is incomplete, Miren is capable of 'listening' to its environment, be a passing car or a human's whistle, and identify the notes that it hears, and generate a 'continuation' of what it hears with a modified 2nd order Markov chain having been trained on a collection of 10,000 monophonic midi files.
                </p>
                <p>
                     Miren uses LoRa to receive pitch and volume trajectory information over long distances. It's capable of reproducing notes from C3 (~130 Hz) to C6# (1109 Hz) and draws around 250 watts during quick, high register requests.
                </p>
                `,
                imgSrc: `
                <div class="miren_article_box">

                    <div class="newimage" id="wireframe" style="background-image: url(./miren/miren_wireframe.png)"></div>
                    <div class="spacer"></div>
                    <div class="spacer"></div>
                    <div class="newimage"  id=graph style="background-image: url(./miren/large_jump.png)"></div>
                    <div id="vid">
                        <video controls="" src="miren_demo.mov"></video>    
                    </div>

                </div>
                `,
                // vidSrc: "<img src='fsae.gif'>"
                vidSrc: ""
            },
            {
                name: "Motion Planning Manimations",
                articleTitle: `<a href="Motion_Planning_ISP-1.pdf">Motion Planning Manimations</a> explaining RRT`,
                articleDesc: `
                <p><a href="Motion_Planning_ISP-1.pdf">Read the report here.</a></p>
                <p>Motion planning is a uniquely visual field of robotics whose
                fundamental ideas are inherently spatial and geometric in
                nature. Here, I've animated two core ideas- <a>the configuration space</a> and the RRT algorithm.</p>
                <p>Taking inspiration from 3B1B's <i>Manim</i>- more specifically, <a href="https://www.manim.community/">Manim Community</a>- I created a series of videos that go over the basics of the rapidly exploring random tree, an interesting and fundamental motion planning concept that lacked any beautiful visual representation. </p>
                <p>With help from my advisor to organize the lession in three steps, we introduce the concept, break down the fundamental steps, and deal with a 'real' example.</p>
                <p>These videos implement the key animations that can be split into segments and used within a lecture, but you can watch them here if you like!</p>
                <p>Part 0: RRT Intuition (currently playing to the left)</p>
                <p><a href="RRT1_Basics.mp4">Watch Part 1: RRT Basics</a></p>
                <p><a href="RRT2_Application.mp4">Watch Part 2: RRT Application</a> (currently has a glitch- will be fixed.)</p>
                `,
                imgSrc: `
                <video id="rrtvid" autoplay="" loop="" src="RRT0_Intuition.mp4"></video>    
                `,
                vidSrc: ""
            },
            {
                name: "Photos",
                articleTitle: `Photos`,
                articleDesc: `I like to take photos from time to time. I'll be going into more detail in this section soon.`,
                imgSrc: `
                    <div class="image" id="quack" style="background-image: url(./photos/quack_placeholder.png)"></div>
                   `,
                vidSrc: ""
            },
            {
                name: "Kinodynamic_Planner",
                articleTitle: `Kinodynamic Planning`,
                articleDesc: `
                <p>An exercise in the fundamental ideas behind kinodynamic motion planning, myself and two teammates wrote a 1, 2 and 3-link planar manipulator simulator and then created a motion planner by implementing the rapdily expanding random tree algorithm in the context of both joint position <i>and</i> joint torque. </p>
                <p>Our motion planner was principally made from the robot model, our path bounds (start and goal state), our task space (as defined as obstacle boundaries as stored in a CSV), and a state sampler and collision checker. By generating and applying random torques to your arm, adding each new trajectory to a tree, the hope is to rapidly explore your configuration space while being considerate of your physical actuators. On the left, the second gif visualizes this random torque application.</p>
                <p>Written entirely in python using an unoptimized RRT algorithm, our implementation was painfully slow. Branches would grow on the scale of minutes. Simulating our arm forward in time based on randomly generated torque values introduced a great deal of extra parameters to tune, and our manhattan distance function's poor performance in higher dimensional space is also to blame.</p>
                `,
                imgSrc: `
                <div class="kino_article_box">

                <div class="newimage" id="kino1" style="background-image: url(./kino/2link.gif)"></div>
                <div class="newimage"  id="kino2" style="background-image: url(./kino/3link.gif)"></div>
                <div class="newimage"  id="kino3" style="background-image: url(./kino/RRT.gif)"></div>
                <div class="newimage"  id="kino4" style="background-image: url(./kino/kinodynamic_blockdiag.png)"></div>
                

                </div>
                `,
                vidSrc: ""
            },
            {
                name: "FSAE",
                articleTitle: `Formua Electric 2023`,
                articleDesc: `
                <p>
                EV23 is WPI's electric racecar that raced at the 2023 Formula Hybrid + Electric competition, and <a href="https://www.formula-hybrid.org/history/2023">placed third overall</a>. I worked with some incredibly talented engineers, and was a member of battery subteam.</p>
                <p>Our team was responsible for integrating a more reliable and servicable accumulator. Among my contributions, a redesigned accumulator enclosure responsible for housing our cells  and high voltage components electroncs. We designed and built segment rails to adapt the old segment design into our new enclosure, and creating the fanifold, a fan manifold that can be quickly mounted and unmounted. The new enclosure drastically improves the mechanical support for our segments, and the busbars as mounted to the accumulator's rear panel both reduces the space required and makes our accumulator's disassembly much faster than the year previous.</p>
                `,
                imgSrc: `
                <div class="fsae_article_box">
                <div class="newimage" id="fsae1" style="background-image: url(./fsae/fsae_epic.png)"></div>
                <div class="newimage" id="fsae2" style="background-image: url(./fsae/busbars.png)"></div>
                <div class="newimage" id="fsae3" style="background-image: url(./fsae/segment_rails.png)"></div>
                <div class="newimage" id="fsae4" style="background-image: url(./fsae/segment_render.png)"></div>
                <div class="newimage" id="fsae5" style="background-image: url(./fsae/fanifoldrender.png)"></div>
                <div class="newimage" id="fsae6" style="background-image: url(./fsae/fanifold.png)"></div>
                </div>
                `,
                vidSrc: "<video muted autoplay src='fsae.webm' type='video/webm'></video>"
            },
            {
                name: "HPRC",
                articleTitle: `High Powered Rocketry Club`,
                articleDesc: `
                <p>Helped design, build and debug the sensor board for HPRC's <i>The Stack:</i> a series of four separate PCBs, each dedicated to a key function necessary for our rocket. These four boards communicated with one another over CAN- among them, the <b>power board</b> for power regulation and voltage control, the <b>telemetry board</b> for LoRA radio communication, the <b>controller board</b>, responsible for interfacing with a micomod teensy for state estimation and airbrake control, and the <b>sensor board</b>, a board dedicated to interfacing with an IMU, Barometer, Magnetometer and GPS.</p>
                <p>The sensor board made use of both a 3.3v and 5v pour and is made of a total of four layers. Since we used CAN, each board needed its own CAN controller and transceiver as well as its own microprocessor- three of the four boards had a dedicated ATMEGA328. CAN ended up being a large hurdle to both the electronics design team as well as the embedded system team due to the volume of data produced by our sensors after parsing the data, which required a great deal of work to send correctly. </p>
                <p>This design was eventually scrapped for a much simpler, single board, which removed a huge amount of overhead from our CAN device drivers, and never got to fly. However, the stack remains in our hearts. And it looks awesome.</p>
                `,
                imgSrc: `
                <div class="hprc_article_box">

                <div class="newimage" id="hprc1" style="background-image: url(./hprc/stack.png)"></div>
                <div class="newimage"  id="hprc2" style="background-image: url(./hprc/sensorboard_v2_3d.png)"></div>
                <div class="newimage"  id="hprc3" style="background-image: url(./hprc/sensorboard_v1.png)"></div>
                <div class="newimage"  id="hprc4" style="background-image: url(./hprc/sensorboard_pcb.png)"></div>
                <div class="newimage"  id="hprc5" style="background-image: url(./hprc/HPRC_ENP_BlockDiagram.png)"></div>
                <div class="newimage"  id="hprc6" style="background-image: url(./hprc/sensorboard_v1_debug.jpg)"></div>

                </div>
                `,
                vidSrc: ""
            },
        ]

        function setInnerText(pageNumber) {
            mainTag.innerHTML = `
        <article>
            <div class="article_image asec">${json[pageNumber].imgSrc}</div>
            <div class="article_desc asec">
                <div class="bottom_text" id="bottom_text">
                    <p>${json[pageNumber].articleDesc}</p>
                </div>
            </div>
            <div class="article_title asec">
                <div class="title_text" id="title_text">
                    <h1>${json[pageNumber].articleTitle}</h1>
                </div>
            </div>
            <div class="article_nav asec">
                <div onclick="switchLeft()" class="left" id="leftright">
                    <h1><</h1>
                </div>
                <div onclick="switchRight()" class="right" id="leftright">
                    <h1>></h1>
                </div>
            </div>
            `
            
            // Change the color to indicate which page you're on
            switch (pageNumber) {
                case 1:
                    changeColor("nav_miren");
                    break;
                case 2:
                    changeColor("nav_manim");
                    break;
                case 3:
                    changeColor("nav_music");
                    break;
                case 4:
                    changeColor("nav_kinoplan");
                    break;
                case 5:
                    changeColor("nav_fsae");
                    break;
                case 6:
                    changeColor("nav_hprc");
                    break;
                default:
                    changeColor("lolol");
            }

        }

        function changeColor(targetId) {
            var ids = ["nav_miren", "nav_manim", "nav_music", "nav_kinoplan", "nav_fsae", "nav_hprc"];

            ids.forEach(function(id) {
                var div = document.getElementById(id);
                if (id === targetId) {
                    div.style.backgroundColor = "#243139";
                } else {
                    div.style.backgroundColor = '';
                }
            });
        }


        setInnerText(0)


    </script>

</body>

</html>